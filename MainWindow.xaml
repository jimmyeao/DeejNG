<Window x:Class="DeejNG.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:DeejNG"
        mc:Ignorable="d"
        Title="DeejNG"       
        SizeToContent="WidthAndHeight"  
    TextElement.Foreground="{DynamicResource MaterialDesign.Brush.Foreground}"
        Background="{DynamicResource MaterialDesign.Brush.Background}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="12"
        FontFamily="{materialDesign:MaterialDesignFont}"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto">
    <DockPanel>
        <!-- Top Bar with Buttons and Labels -->
        <StackPanel Orientation="Horizontal" DockPanel.Dock="Top" Margin="10">
            <TextBlock Text="COM Port:" VerticalAlignment="Center" Style="{DynamicResource MaterialDesignBody2}" />
            <ComboBox x:Name="ComPortSelector" Width="100" Margin="5,0" Style="{StaticResource MaterialDesignComboBox}" DropDownOpened="ComPortSelector_DropDownOpened"/>
            <Button x:Name="ConnectButton" Content="Connect" Click="Connect_Click" Style="{StaticResource MaterialDesignFlatButton}" />
            <TextBlock x:Name="ConnectionStatus" Text="Disconnected" Margin="10,0,0,0" VerticalAlignment="Center" Style="{DynamicResource MaterialDesignBody2}" />
            <Button Content="Toggle Theme" Click="ToggleTheme_Click" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="10" Style="{DynamicResource MaterialDesignFlatButton}"/>
            <CheckBox x:Name="InvertSliderCheckBox" 
          Content="Invert Sliders" 
          Checked="InvertSlider_Checked" 
          Unchecked="InvertSlider_Unchecked"
          Margin="10"
          VerticalAlignment="Center"
          HorizontalAlignment="Center"/>

        </StackPanel>

        <!-- Main content area -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <!-- Auto-sizing for the top bar -->
                <RowDefinition Height="*" />
                <!-- Star sizing for the main content (flexible) -->
            </Grid.RowDefinitions>

            <!-- ScrollViewer for dynamic content -->
            <ScrollViewer Grid.Row="1" HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <StackPanel x:Name="SliderPanel" Orientation="Horizontal" Margin="10">
                    <!-- Dynamically added user controls (ChannelControl) go here -->
                </StackPanel>
            </ScrollViewer>
        </Grid>
        <tb:TaskbarIcon x:Name="MyNotifyIcon"  TrayMouseDoubleClick="MyNotifyIcon_Click" ToolTipText="DeejNG" Visibility="Visible" />

    </DockPanel>

</Window>
